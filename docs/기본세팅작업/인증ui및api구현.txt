1. êµ¬ì¡°

app/
 â”œâ”€â”€ shared/                   # ê³µìš© ë¦¬ì†ŒìŠ¤
 â”‚   â”œâ”€â”€ ui/                   # ê³µìš© UI ì»´í¬ë„ŒíŠ¸ (Shadcn/Tailwind)
 â”‚   â”‚   â”œâ”€â”€ Button.tsx
 â”‚   â”‚   â”œâ”€â”€ Input.tsx
 â”‚   â”‚   â”œâ”€â”€ Dialog.tsx
 â”‚   â”‚   â””â”€â”€ Spinner.tsx
 â”‚   â”œâ”€â”€ lib/                  # ê³µìš© ìœ í‹¸ + API + Axios ì„¸íŒ…
 â”‚   â”‚   â”œâ”€â”€ axios.ts
 â”‚   â”‚   â”œâ”€â”€ queryClient.ts
 â”‚   â”‚   â””â”€â”€ api/
 â”‚   â”‚        â””â”€â”€ authApi.ts
 â”‚   â”œâ”€â”€ store/                # ê¸€ë¡œë²Œ ìƒíƒœ (Zustand)
 â”‚   â”‚   â”œâ”€â”€ useAuthStore.ts
 â”‚   â”‚   â””â”€â”€ useUiStore.ts
 â”‚   â””â”€â”€ types/
 â”‚        â””â”€â”€ auth.d.ts
 â”‚
 â”œâ”€â”€ features/
 â”‚   â”œâ”€â”€ auth/
 â”‚   â”‚   â”œâ”€â”€ ui/
 â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
 â”‚   â”‚   â”‚   â”œâ”€â”€ SignupForm.tsx
 â”‚   â”‚   â”‚   â”œâ”€â”€ AuthDialog.tsx
 â”‚   â”‚   â”‚   â”œâ”€â”€ LoginDialogButton.tsx
 â”‚   â”‚   â”‚   â”œâ”€â”€ SignupDialogButton.tsx
 â”‚   â”‚   â”‚   â””â”€â”€ LogoutButton.tsx
 â”‚   â”‚   â”œâ”€â”€ model/
 â”‚   â”‚   â”‚   â”œâ”€â”€ useLoginMutation.ts
 â”‚   â”‚   â”‚   â”œâ”€â”€ useSignupMutation.ts
 â”‚   â”‚   â”‚   â”œâ”€â”€ useAuthValidationQuery.ts
 â”‚   â”‚   â”‚   â””â”€â”€ index.ts
 â”‚   â”‚   â””â”€â”€ index.ts
 â”‚
 â”œâ”€â”€ widgets/
 â”‚   â”œâ”€â”€ Header/
 â”‚   â”‚   â”œâ”€â”€ Header.tsx
 â”‚   â”‚   â””â”€â”€ AuthMenuForHeader.tsx
 â”‚   â””â”€â”€ Footer/
 â”‚        â””â”€â”€ Footer.tsx
 â”‚
 â”œâ”€â”€ app/
 â”‚   â”œâ”€â”€ login/page.tsx
 â”‚   â”œâ”€â”€ signup/page.tsx
 â”‚   â”œâ”€â”€ dashboard/page.tsx
 â”‚   â”œâ”€â”€ layout.tsx
 â”‚   â”œâ”€â”€ globals.css
 â”‚   â””â”€â”€ page.tsx
 â”‚
 â”œâ”€â”€ docs/
 â”‚   â””â”€â”€ ê¸°ë³¸ì„¸íŒ…ì‘ì—…/
 â””â”€â”€ ...


ğŸªœ 3ï¸âƒ£ êµ¬í˜„ ìˆœì„œ (ì „ì²´ ì ˆì°¨ ë¡œë“œë§µ)
â‘  ê³µìš© ì„¤ì •

/shared/lib/axios.ts
â†’ axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±, interceptorë¡œ accessToken ìë™ ì²¨ë¶€

/shared/lib/queryClient.ts
â†’ react-query client ìƒì„±

/shared/store/useAuthStore.ts
â†’ user/token ìƒíƒœ persist

/shared/ui/
â†’ Button, Input, Dialog, Spinner ë“± ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸

â‘¡ Auth API (ë°±ì—”ë“œ ì—°ë™)

/shared/lib/api/authApi.ts

apiForLogin(email, password)

apiForSignup(email, password, name)

apiForGetProfile()

â‘¢ TanStack Query Hooks (features/auth/model/)
Hook	ì—­í• 
useLoginMutation.ts	ë¡œê·¸ì¸ POST ìš”ì²­ + Zustand ìƒíƒœ ì—…ë°ì´íŠ¸
useSignupMutation.ts	íšŒì›ê°€ì… POST ìš”ì²­
useAuthValidationQuery.ts	JWT ìœ íš¨ì„± ê²€ì‚¬ (ìë™ ë¡œê·¸ì¸ ìœ ì§€)
â‘£ Zustand Auth Store
ìƒíƒœ	ì„¤ëª…
user	ë¡œê·¸ì¸ëœ ì‚¬ìš©ì ì •ë³´
accessToken	JWT í† í°
isAuthenticated	ë¡œê·¸ì¸ ì—¬ë¶€
login()	ë¡œê·¸ì¸ ì‹œ ìƒíƒœ ì €ì¥
logout()	ë¡œê·¸ì•„ì›ƒ ì‹œ ìƒíƒœ ì´ˆê¸°í™”
â‘¤ Auth UI (features/auth/ui/)
ì»´í¬ë„ŒíŠ¸	ì„¤ëª…
LoginForm.tsx	ë¡œê·¸ì¸ í¼ (react-hook-form + mutation)
SignupForm.tsx	íšŒì›ê°€ì… í¼
AuthDialog.tsx	ë¡œê·¸ì¸ â†” íšŒì›ê°€ì… ì „í™˜ ê°€ëŠ¥í•œ ë‹¤ì´ì–¼ë¡œê·¸
LoginDialogButton.tsx	Headerì—ì„œ ë¡œê·¸ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í˜¸ì¶œ ë²„íŠ¼
SignupDialogButton.tsx	Headerì—ì„œ íšŒì›ê°€ì… ë‹¤ì´ì–¼ë¡œê·¸ í˜¸ì¶œ ë²„íŠ¼
LogoutButton.tsx	ë¡œê·¸ì¸ ì‹œ í‘œì‹œë˜ëŠ” ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼
â‘¥ Header í†µí•© (widgets/Header/)
íŒŒì¼ëª…	ì„¤ëª…
Header.tsx	ê³µí†µ ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜
AuthMenuForHeader.tsx	ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ ë²„íŠ¼/í”„ë¡œí•„ ì „í™˜

ë¡œê·¸ì¸ X â†’ LoginDialogButton, SignupDialogButton

ë¡œê·¸ì¸ O â†’ ì´ë©”ì¼ + LogoutButton

â‘¦ í˜ì´ì§€ êµ¬ì„± (app/)
í˜ì´ì§€	ë‚´ìš©
/login/page.tsx	ë‹¨ë… ë¡œê·¸ì¸ í˜ì´ì§€ (í¼ ì§ì ‘ ì‚½ì…)
/signup/page.tsx	ë‹¨ë… íšŒì›ê°€ì… í˜ì´ì§€
/dashboard/page.tsx	ë¡œê·¸ì¸ëœ ìœ ì € ì „ìš© í˜ì´ì§€
/layout.tsx	<Header /> + <QueryClientProvider> + Zustand Provider
â‘§ ì¸ì¦ í”Œë¡œìš° ìš”ì•½
ë‹¨ê³„	ë™ì‘	ê´€ë ¨ ë¡œì§
1	ë¡œê·¸ì¸ ì‹œ API í˜¸ì¶œ â†’ JWT ë°œê¸‰	useLoginMutation
2	ì„±ê³µ ì‹œ useAuthStore.login() ì €ì¥	Zustand persist
3	ìƒˆë¡œê³ ì¹¨ ì‹œ /api/auth/me ìš”ì²­	useAuthValidationQuery
4	ìœ íš¨í•˜ë©´ ìë™ ë¡œê·¸ì¸ ìœ ì§€	Zustand ê°±ì‹ 
5	í† í° ë§Œë£Œ ì‹œ interceptor ë¡œê·¸ì•„ì›ƒ	axios interceptor
6	í—¤ë” ë©”ë‰´ ì‹¤ì‹œê°„ ë°˜ì˜	AuthMenuForHeader
7	ë¡œê·¸ì•„ì›ƒ ì‹œ ì „ì—­ ìƒíƒœ ì´ˆê¸°í™”	useAuthStore.logout()
â‘¨ í™•ì¥ ê³ ë ¤
ê¸°ëŠ¥	ì„¤ëª…	ìœ„ì¹˜
âœ… Refresh Token ìë™ ê°±ì‹ 	Axios interceptorì—ì„œ ì²˜ë¦¬	/shared/lib/axios.ts
âœ… ë¡œê·¸ì¸ í›„ redirect	Next.js router.replace()	/features/auth/model/useLoginMutation.ts
âœ… ê´€ë¦¬ì Role êµ¬ë¶„	user.role ìƒíƒœ	/shared/store/useAuthStore.ts
âœ… Protected Route	middleware.ts or client-side guard	/app/dashboard/page.tsx
ğŸ§© 4ï¸âƒ£ ì´ë¦„ ìš”ì•½ í‘œ
êµ¬ë¶„	íŒŒì¼ / í›… / ì»´í¬ë„ŒíŠ¸ëª…
Zustand Store	useAuthStore
API	authApi.ts
Query Client	queryClient.ts
Query Hook	useLoginMutation, useSignupMutation, useAuthValidationQuery
Form	LoginForm, SignupForm
Dialog	AuthDialog
Header Menu	AuthMenuForHeader
Provider	AppProviders or directly in layout.tsx
ğŸš€ êµ¬í˜„ í”Œë¡œìš° ê°„ë‹¨ ìš”ì•½

1ï¸âƒ£ ê¸°ë°˜ ì„¸íŒ… â†’ Zustand, TanStack Query, axios, persist
2ï¸âƒ£ Auth API â†’ login/signup/profile
3ï¸âƒ£ Mutation/Query í›… êµ¬ì„±
4ï¸âƒ£ Form + Dialog UI ì œì‘
5ï¸âƒ£ Header ì—°ë™ (AuthMenuForHeader)
6ï¸âƒ£ í† í° ê²€ì¦ + ìë™ ë¡œê·¸ì¸ ìœ ì§€
7ï¸âƒ£ Redirect, Role ë¶„ê¸°, Protected Page í™•ì¥


ê·¸ì™¸ ì°¸ê³ :

ğŸ§© AuthSectionForHeader

ì˜ë¯¸

í—¤ë” ìš°ì¸¡ ìƒë‹¨ì—ì„œ ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼
ë¡œê·¸ì¸ í¼ / íšŒì›ê°€ì… ë²„íŠ¼ / í”„ë¡œí•„ ë©”ë‰´ ë“±ì„ ìë™ìœ¼ë¡œ ì „í™˜í•´ì„œ ë³´ì—¬ì£¼ëŠ” ì¸ì¦ ì „ìš© ì„¹ì…˜ ì»´í¬ë„ŒíŠ¸.

widgets/
 â””â”€â”€ Header/
      â”œâ”€â”€ Header.tsx
      â””â”€â”€ AuthSectionForHeader.tsx
